import { readFile } from 'fs/promises'

// Leer el archivo JSON de forma asíncrona
readFile('./cardData.json', 'utf8')
    .then(data => {
        try {
            const cardData = JSON.parse(data)
            const cardNumbers = Object.keys(cardData).map(cardNumber => parseInt(cardNumber.substring(1)))
            const minCardNumber = Math.min(...cardNumbers)
            const maxCardNumber = Math.max(...cardNumbers)
            const fullSequence = Array.from({ length: maxCardNumber - minCardNumber + 1 }, (_, index) => index + minCardNumber)
            const missingNumbers = fullSequence.filter(number => !cardNumbers.includes(number))

            // Imprimir los números faltantes en líneas de 10
            console.log('Números faltantes:')
            for (let i = 0; i < missingNumbers.length; i += 15) {
                console.log(missingNumbers.slice(i, i + 15).join(', '))
            }
        } catch (error) {
            console.error('Error al parsear el archivo JSON:', error)
        }
    })
    .catch(err => {
        console.error('Error al leer el archivo JSON:', err)
    })

// array de ids de cartas
const list = [4661, 4665, 4671, 4672, 4673, 4681, 4684, 4686, 4689, 4690, 4696, 4697, 4699, 4701, 4704,
    4721, 4726, 4730, 4745, 4765, 4779, 4781, 4782, 4783, 4784, 4791, 4793, 4796, 4797, 4800,
    4801, 4807, 4809, 4820, 4822, 4824, 4825, 4826, 4827, 4829, 4831, 4833, 4867, 4959, 4994,
    4995, 4996, 4997, 4998, 4999, 5000, 5012, 5013, 5014, 5039, 5047, 5049, 5050, 5051, 5052,
    5054, 5055, 5056, 5057, 5058, 5064, 5068, 5070, 5071, 5074, 5075, 5076, 5077, 5078, 5080,
    5081, 5082, 5083, 5084, 5085, 5087, 5088, 5089, 5097, 5098, 5100, 5105, 5117, 5155, 5156,
    5157, 5158, 5159, 5160, 5163, 5165, 5167, 5169, 5191, 5192, 5215, 5228, 5233, 5235, 5240,
    5241, 5280, 5282, 5283, 5288, 5289, 5293, 5294, 5297, 5362, 5364, 5399, 5407, 5434, 5447,
    5449, 5458, 5459, 5460, 5461, 5462, 5463, 5464, 5465, 5466, 5467, 5468, 5469, 5470, 5471,
    5472, 5481, 5487, 5494, 5495, 5500, 5545, 5551, 5554, 5563, 5567, 5568, 5569, 5570, 5571,
    5572, 5573, 5576, 5577, 5595, 5605, 5611, 5622, 5629, 5633, 5636, 5637, 5638, 5639, 5682,
    5690, 5691, 5692, 5693, 5694, 5696, 5712, 5734, 5742, 5747, 5748, 5749, 5750, 5751, 5801,
    5802, 5805, 5806, 5807, 5808, 5809, 5861, 5862, 5863, 5864, 5865, 5866, 5867, 5870, 5924,
    5926, 5938, 5939, 5940, 5941, 5942, 5997, 5998, 5999, 6002, 6008, 6009, 6011, 6012, 6013,
    6014, 6015, 6016, 6017, 6065, 6074, 6075, 6077, 6080, 6081, 6091, 6152, 6154, 6157, 6161,
    6171, 6180, 6228, 6230, 6276, 6290, 6294, 6295, 6296, 6297, 6301, 6305, 6306, 6309, 6363,
    6367, 6369, 6370, 6371, 6372, 6373, 6375, 6377, 6378, 6379, 6381, 6382, 6401, 6402, 6403,
    6404, 6412, 6451, 6452, 6453, 6455, 6459, 6460, 6461, 6462, 6463, 6464, 6466, 6525, 6526,
    6548, 6549, 6551, 6552, 6553, 6554, 6555, 6556, 6557, 6558, 6559, 6560, 6561, 6562, 6579,
    6585, 6627, 6628, 6629, 6630, 6631, 6632, 6633, 6634, 6635, 6649, 6650, 6651, 6652, 6713,
    6714, 6715, 6716, 6717, 6718, 6719, 6723, 6724, 6725, 6726, 6727, 6728, 6729, 6730, 6731,
    6732, 6733, 6735, 6740, 6741, 6743, 6746, 6750, 6751, 6760, 6769, 6770, 6771, 6784, 6785,
    6786, 6787, 6788, 6789, 6790, 6791, 6792, 6793, 6794, 6795, 6801, 6813, 6820, 6821, 6826,
    6827, 6828, 6829, 6830, 6831, 6832, 6833, 6834, 6835, 6836, 6837, 6838, 6839, 6840, 6841,
    6842, 6843, 6844, 6845, 6846, 6847, 6848, 6849, 6850, 6851, 6852, 6853, 6854, 6855, 6856,
    6857, 6858, 6859, 6860, 6861, 6862, 6863, 6864, 6865, 6866, 6867, 6868, 6869, 6870, 6871,
    6872, 6873, 6874, 6875, 6876, 6877, 6878, 6879, 6880, 6881, 6882, 6883, 6884, 6885, 6886,
    6887, 6888, 6889, 6890, 6891, 6892, 6893, 6894, 6895, 6896, 6897, 6898, 6899, 6900, 6901,
    6902, 6903, 6904, 6905, 6906, 6907, 6908, 6909, 6910, 6911, 6912, 6913, 6914, 6915, 6916,
    6917, 6918, 6919, 6920, 6921, 6922, 6923, 6924, 6925, 6926, 6927, 6928, 6929, 6930, 6931,
    6932, 6933, 6934, 6935, 6936, 6937, 6938, 6939, 6940, 6941, 6942, 6943, 6944, 6945, 6946,
    6947, 6948, 6949, 6950, 6951, 6952, 6953]

console.log('Número de cartas faltantes: ' + list.length)
